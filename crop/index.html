<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="text/css" href="./style.css" rel="styleSheet">
    <title>Document</title>
    <script>


        // 1.이미지를 불러온다.
        // 2.9등분으로 나눈다.
        // 3.배열의 순서를 바꾼다.
        // 4.퍼즐을 맞춘다.

        load = function(){

            var container   = document.getElementById('container2');
            var canvas      = document.createElement('canvas');
            container.appendChild(canvas);
            var ctx = canvas.getContext("2d");

            var img = new Image();
            img.onload = function() {
                
                canvas.width = img.width;
                canvas.height= img.height;

                let w = img.width/3;
                let h = img.height/3;
                let rowIndex;
                let columnIndex;
                let count=0;
                for( let i=0; i<9; i++ ){

                    rowIndex = count%3;
                    columnIndex = parseInt(count/3);

                    ix=w*rowIndex;
                    iy=h*columnIndex;
                    iw=w;
                    ih=h;

                    // 0,0,50,50  / 50,0,50,50 / 100,0,50,50
                    // 0,50,50,50  / 50,50,50,50 / 100,50,50,50
                    // 0,100,50,50  / 50,100,50,50 / 100,100,50,50

                    ctx.drawImage(img, ix,iy,iw,ih, ix+i*2,iy+i*2,iw,ih);
                    count++;
                }


            };
            img.src = './test.jpg';
        }
        load2 = function(){

            var container   = document.getElementById('container2');


            var img = new Image();
            img.onload = function() {
                


                let w = img.width/3;
                let h = img.height/3;
                let rowIndex;
                let columnIndex;
                let count=0;
                for( let i=0; i<9; i++ ){

                    var canvas      = document.createElement('canvas');
                    canvas.width = w;
                    canvas.height= h;
                    container.appendChild(canvas);
                    var ctx = canvas.getContext("2d");


                    rowIndex = count%3;
                    columnIndex = parseInt(count/3);

                    ix=w*rowIndex;
                    iy=h*columnIndex;
                    iw=w;
                    ih=h;

                    // 0,0,50,50  / 50,0,50,50 / 100,0,50,50
                    // 0,50,50,50  / 50,50,50,50 / 100,50,50,50
                    // 0,100,50,50  / 50,100,50,50 / 100,100,50,50

                    ctx.drawImage(img, ix,iy,iw,ih, 0,0,iw,ih);
                    count++;
                }


            };
            img.src = './test.jpg';
        }


        setPosition2 = function(){

            let count=0;

            var container   = document.getElementById('container2');

            for( var canvas of container.children ){
                

                canvas.style.left = (count%3)*canvas.width+'px';
                canvas.style.top = (parseInt(count/3))*canvas.height+'px';
                count++;
            }

        }


        createRect = function(){

        }

        setPosition = function(){

            let count=0;

            var container   = document.getElementById('container');

            for( var li of container.children ){
                li.style.left = (count%3)*55+'px';
                li.style.top = (parseInt(count/3))*55+'px';
               count++;
            }
            
        }

    </script>
</head>
<body>
    <button onclick="load2()">load</button>
    <button onclick="setPosition2()">setPosition2</button>

    <button onclick="setPosition()">setPosition</button>

    <img src="./test.jpg">

    <div id="demo-basic"></div>
    
    <div id="container2">
    </div>


    <div id="container">
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
        <li>6</li>
        <li>7</li>
        <li>8</li>
        <li>9</li>
    </div>

    
</body>
</html>